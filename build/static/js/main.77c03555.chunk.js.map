{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","components/App.js","index.js"],"names":["Filter","value","onChange","PersonForm","newName","newNumber","addPerson","handleNameChange","handleNumberChange","onSubmit","type","Person","person","handleDelete","name","number","onClick","Persons","filteredPersons","map","key","id","Notification","message","className","newObject","axios","post","then","response","data","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","filterValue","setFilterValue","errorMessage","setErrorMessage","useEffect","get","event","target","toLowerCase","preventDefault","includes","window","confirm","filter","persion","personService","returnedPerson","setTimeout","concat","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.77c03555.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({value, onChange}) => {\n  return (\n    <div>\n      filter shown with <input value={value} onChange={onChange} />\n    </div>\n  )\n}\n\nexport default Filter\n","import React from 'react';\n\nconst PersonForm = ({newName, newNumber, addPerson, handleNameChange, handleNumberChange}) => {\n  return (\n    <form onSubmit={addPerson}> \n      <div>\n        name: <input value={newName} onChange={handleNameChange}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react';\n\nconst Person = ({person,handleDelete}) => {\n  return (\n    <p>\n      {person.name} {person.number} <button onClick={() => handleDelete(person)}>delete</button>\n    </p>\n  )\n}\n\nexport default Person\n","import React from 'react';\nimport Person from './Person'\n\nconst Persons = ({filteredPersons, handleDelete}) => {\n  return (\n    <div>\n      {  \n        filteredPersons().map(person => \n          <Person person={person} key={person.id} handleDelete={handleDelete} />\n        )\n      }  \n    </div>\n  )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({message}) => {\n  if (message ===null) {\n    return null\n  }\n\n  return(\n    <div className=\"alert\">\n      {message}\n    </div>\n  )\n}\n\n\nexport default Notification\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons'\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst destroy = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { create, destroy, update }\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Filter from './Filter';\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Notification from './Notification'\nimport personService from '../services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterValue, setFilterValue ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  const hook = () => {\n    axios\n      .get('/api/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setFilterValue(event.target.value.toLowerCase())\n  }\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .destroy(person.id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n    }\n  }\n\n  const filteredPersons = () => {\n    if (filterValue !== '') {\n      return persons.filter(\n        person => person.name.toLowerCase().includes(filterValue)\n      )\n    } \n      \n    return persons\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.map(person => person.name).includes(newName)) {\n      const confirm = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one ?`\n      )\n      \n      if (confirm) {\n        const id = persons\n          .filter(persion => persion.name === newName)[0]\n          .id\n\n        const newPersionObject = {\n          name: newName,\n          number: newNumber,\n          id: id\n        }\n\n        personService\n          .update(id, newPersionObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n\n            setErrorMessage(\n              `Updateed ${newName}`\n            )\n\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n        \n      } else { \n        return \n      }\n    }\n    \n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n\n        setErrorMessage(\n          `Added ${newName}`\n        )\n\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} />\n      <Filter value={filterValue} onChange={handleSearch} />\n\n      <h3>add a new</h3>\n\n      <PersonForm \n        newName={newName} \n        newNumber={newNumber} \n        handleNameChange={handleNameChange} \n        handleNumberChange={handleNumberChange} \n        addPerson={addPerson}\n      />\n     \n      <h2>Numbers</h2>\n\n      <Persons filteredPersons={filteredPersons} handleDelete={handleDelete} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}